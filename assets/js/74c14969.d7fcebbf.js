"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[6761],{5565:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>c,toc:()=>i});var r=n(5893),o=n(1151);const s={title:"Docker",description:"Install Pod Arcade using Docker"},a="Docker",c={id:"getting-started/docker",title:"Docker",description:"Install Pod Arcade using Docker",source:"@site/docs/getting-started/docker.md",sourceDirName:"getting-started",slug:"/getting-started/docker",permalink:"/docs/getting-started/docker",draft:!1,unlisted:!1,editUrl:"https://github.com/pod-arcade/website/tree/main/docs/getting-started/docker.md",tags:[],version:"current",frontMatter:{title:"Docker",description:"Install Pod Arcade using Docker"},sidebar:"tutorialSidebar",previous:{title:"Getting Started",permalink:"/docs/category/getting-started"},next:{title:"Kubernetes (Helm)",permalink:"/docs/getting-started/helm"}},d={},i=[{value:"Docker Compose",id:"docker-compose",level:3}];function l(e){const t={a:"a",code:"code",h1:"h1",h3:"h3",p:"p",pre:"pre",...(0,o.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{id:"docker",children:"Docker"}),"\n",(0,r.jsxs)(t.p,{children:["Run the server component with this. You should be able to connect using ",(0,r.jsx)(t.a,{href:"https://localhost:8443",children:"https://localhost:8443"}),". You may need to accept the self-signed certificate.\nIf that doesn't work, you may need to generate your own certificate and key, add that to your trust store, mount it into the container, and set the ",(0,r.jsx)(t.code,{children:"TLS_CERT"})," and ",(0,r.jsx)(t.code,{children:"TLS_KEY"})," environment variables to the path you mounted them to. Alternatively, ",(0,r.jsx)(t.a,{href:"chrome://flags/#allow-insecure-localhost",children:"chrome has a flag that will allow you to ignore invalid certificates on localhost"}),"."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:'docker run -it --rm --name pa-server \\\n  -p 1883:1883 \\\n  -p 8080:8080 \\\n  -p 8443:8443 \\\n  -e DESKTOP_PSK="theMagicStringUsedToAuthenticateDesktops" \\\n  -e CLIENT_PSK="thePasswordUsersPutInToConnect" \\\n  -e ICE_SERVERS=\'[{"urls":["stun:stun.l.google.com:19302"]}\' \\\n  -e AUTH_REQUIRED="true" \\\n  -e SERVE_TLS="true" \\\n ghcr.io/pod-arcade/server:main\n'})}),"\n",(0,r.jsx)(t.p,{children:"and run an example retroarch client with:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"docker volume create pa-desktop-dri\ndocker run -it --rm --user 0 --privileged --link pa-server:pa-server \\\n  -e WAYLAND_DISPLAY=wayland-1 \\\n  -e MQTT_HOST=\"ws://pa-server:8080/mqtt\" \\\n  -e DESKTOP_ID=example-retroarch \\\n  -e DESKTOP_PSK=\"theMagicStringUsedToAuthenticateDesktops\" \\\n  -e DISABLE_HW_ACCEL='false' \\\n  -e DISPLAY=':0' \\\n  -e DRI_DEVICE_MODE=MKNOD \\\n  -e FFMPEG_HARDWARE='1' \\\n  -e PGID='1000' \\\n  -e PUID='1000' \\\n  -e PULSE_SERVER='unix:/tmp/pulse/pulse-socket' \\\n  -e UINPUT_DEVICE_MODE=NONE \\\n  -e UNAME=ubuntu \\\n  -e WLR_BACKENDS=headless \\\n  -e WLR_NO_HARDWARE_CURSORS='1' \\\n  -e WLR_RENDERER=gles2 \\\n  -e XDG_RUNTIME_DIR=/tmp/sway \\\n  -v /dev/dri:/dev/host-dri \\\n  -v /dev/uinput:/dev/uinput \\\n  -v pa-desktop-dri:/dev/dri \\\n ghcr.io/pod-arcade/desktop:main\n"})}),"\n",(0,r.jsx)(t.h3,{id:"docker-compose",children:"Docker Compose"}),"\n",(0,r.jsxs)(t.p,{children:["There's docker-compose for running desktops in ",(0,r.jsx)(t.a,{href:"https://github.com/pod-arcade/example-apps",children:"pod-arcade/example-apps"})]}),"\n",(0,r.jsx)(t.p,{children:"You'll need to set some of the environment variables to have it connect to the Pod Arcade server. Just be careful which example applications you look at. Many of those pod-arcade/example-apps simply use the built in VNC server to stream the desktop to the browser, not Pod Arcade. That's because it's much faster to do development that way, and will be compatible with pod-arcade if the VNC approach works."})]})}function h(e={}){const{wrapper:t}={...(0,o.a)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}}}]);